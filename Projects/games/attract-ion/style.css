:root{
  color-scheme:dark;
  --bg:#05070b;
  --panel:rgba(9,14,22,.7);
  --line:rgba(255,255,255,.12);
  --accent:#7aa2ff;
  --accent2:#9ae6ff;
  --good:#8affa8;
  --warn:#ffb454;
  --text:rgba(232,238,244,.96);
  --muted:rgba(232,238,244,.68);
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;overflow:hidden}
.shell{min-height:100vh;display:flex;flex-direction:column}
.bar{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:.85rem 1.1rem;background:var(--panel);border-bottom:1px solid var(--line);backdrop-filter:blur(10px)}
.title{font-weight:800;letter-spacing:.16em;text-transform:uppercase;font-size:.85rem}
.actions{display:flex;gap:.6rem;flex-wrap:wrap}
.btn{padding:.5rem .8rem;border-radius:999px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.06);color:inherit;text-decoration:none;font-size:.75rem;font-weight:800;letter-spacing:.12em;text-transform:uppercase;cursor:pointer}
.btn.primary{background:linear-gradient(135deg, rgba(122,162,255,.25), rgba(154,230,255,.12));border-color:rgba(122,162,255,.4)}
.stage{position:relative;flex:1;min-height:0;display:grid;place-items:center;overflow:hidden}
#scene{width:100%;height:100%;display:block}
.hud{position:absolute;left:18px;top:18px;padding:.75rem .9rem;border-radius:14px;background:rgba(8,12,18,.65);border:1px solid var(--line);backdrop-filter:blur(10px);display:flex;flex-direction:column;gap:.4rem;min-width:240px;box-shadow:0 18px 40px rgba(0,0,0,.35)}
.hud-title{font-weight:800;letter-spacing:.14em;text-transform:uppercase;font-size:.72rem;color:var(--accent2)}
.hud-step{font-size:.88rem;color:var(--muted)}
.hud-metrics{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.4rem;margin-top:.2rem}
.metric{display:flex;flex-direction:column;gap:.1rem;padding:.35rem .45rem;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:rgba(10,14,24,.55)}
.metric-label{font-size:.65rem;letter-spacing:.12em;text-transform:uppercase;color:rgba(154,230,255,.75);font-weight:700}
.metric-value{font-size:.82rem;color:var(--text);font-weight:700}
.prompt{position:absolute;right:24px;bottom:24px;max-width:320px;padding:1rem;border-radius:16px;background:rgba(8,14,22,.82);border:1px solid var(--line);box-shadow:0 20px 60px rgba(0,0,0,.45)}
.prompt-title{font-weight:800;font-size:1rem;margin-bottom:.35rem;color:var(--accent)}
.prompt-body{color:var(--muted);font-size:.92rem;line-height:1.5}
.prompt-actions{display:flex;gap:.6rem;margin-top:.9rem;flex-wrap:wrap}
.control-pad{position:absolute;right:24px;bottom:110px;display:flex;gap:.6rem;z-index:4}
.control-pad .btn.control{padding:.6rem .95rem;font-size:.7rem;letter-spacing:.12em}
.control-pad .btn.cool{border-color:rgba(154,230,255,.45);background:rgba(154,230,255,.14)}
.control-pad .btn.heat{border-color:rgba(255,180,84,.45);background:rgba(255,180,84,.14)}
.control-pad .btn.suggest{animation:suggestPulse 900ms ease-in-out infinite;box-shadow:0 0 0 1px rgba(255,255,255,.12), 0 0 28px rgba(154,230,255,.28)}
.control-pad .btn.heat.suggest{box-shadow:0 0 0 1px rgba(255,255,255,.12), 0 0 28px rgba(255,180,84,.28)}

@keyframes suggestPulse{
  0%,100%{transform:translateY(0);filter:saturate(1)}
  50%{transform:translateY(-1px);filter:saturate(1.25)}
}

.orbit-hint{position:absolute;left:50%;top:52%;transform:translate(-50%,-50%) scale(.985);z-index:2;pointer-events:none;opacity:0;transition:opacity 180ms ease, transform 180ms ease;padding:.75rem 1rem;border-radius:16px;border:1px solid rgba(255,255,255,.14);background:rgba(6,10,16,.58);backdrop-filter:blur(10px);text-align:center;min-width:min(360px, calc(100vw - 48px));box-shadow:0 24px 80px rgba(0,0,0,.4)}
.orbit-hint.show{opacity:1;transform:translate(-50%,-50%) scale(1)}
.orbit-hint[data-mode="hold"]{border-color:rgba(138,255,168,.28)}
.orbit-hint[data-mode="pull"]{border-color:rgba(154,230,255,.3)}
.orbit-hint[data-mode="push"]{border-color:rgba(255,180,84,.3)}
.orbit-hint-title{font-weight:950;letter-spacing:.14em;text-transform:uppercase;font-size:1.05rem}
.orbit-hint[data-mode="hold"] .orbit-hint-title{color:var(--good)}
.orbit-hint[data-mode="pull"] .orbit-hint-title{color:var(--accent2)}
.orbit-hint[data-mode="push"] .orbit-hint-title{color:var(--warn)}
.orbit-hint-sub{margin-top:.18rem;color:rgba(232,238,244,.72);font-size:.86rem;line-height:1.35}

@media (prefers-reduced-motion: reduce){
  .control-pad .btn.suggest{animation:none}
  .orbit-hint{transition:none}
}
.toast{position:absolute;left:50%;bottom:20px;transform:translateX(-50%);padding:.5rem .9rem;border-radius:999px;background:rgba(0,0,0,.5);border:1px solid rgba(255,255,255,.12);font-size:.82rem;opacity:0;transition:opacity 200ms ease}
.toast.show{opacity:1}
.quality-drawer{position:absolute;left:18px;bottom:74px;z-index:3;width:min(860px, calc(100% - 36px));color:var(--text)}
.quality-drawer summary{list-style:none;cursor:pointer;display:flex;align-items:center;justify-content:space-between;gap:.6rem;padding:.55rem .85rem;border-radius:999px;border:1px solid var(--line);background:rgba(8,12,18,.72);font-weight:800;font-size:.72rem;letter-spacing:.12em;text-transform:uppercase}
.quality-drawer summary::-webkit-details-marker{display:none}
.quality-pill{display:inline-flex;align-items:center;gap:.4rem;padding:.28rem .55rem;border-radius:999px;border:1px solid rgba(154,230,255,.22);background:rgba(154,230,255,.08);color:var(--accent2);font-size:.7rem;letter-spacing:.06em;text-transform:none}
.quality-drawer[open] summary{border-radius:14px 14px 0 0;border-bottom:none;background:rgba(8,12,18,.9)}
.quality-body{border:1px solid var(--line);border-top:none;border-radius:0 0 16px 16px;padding:.95rem;background:rgba(6,10,16,.92);max-height:min(62vh,540px);overflow:auto}
.quality-banner{display:inline-flex;align-items:center;gap:.5rem;padding:.4rem .75rem;border-radius:999px;border:1px solid rgba(154,230,255,.2);background:rgba(154,230,255,.08);color:var(--accent2);font-weight:800;font-size:.78rem;letter-spacing:.08em;text-transform:uppercase;margin-bottom:.6rem}
.quality-sub{margin:0 0 .85rem;color:var(--muted);font-size:.9rem;line-height:1.4}
.quality-grid{display:grid;grid-template-columns:repeat(2, minmax(0,1fr));gap:.75rem}
.quality-card{position:relative;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(12,16,24,.7);padding:.8rem .85rem;overflow:hidden}
.quality-card::after{content:"";position:absolute;left:0;right:0;top:0;height:3px;background:linear-gradient(90deg, rgba(154,230,255,.6), rgba(122,162,255,.25))}
.quality-card.craft::after{background:linear-gradient(90deg, rgba(138,255,168,.65), rgba(154,230,255,.2))}
.quality-card.trust::after{background:linear-gradient(90deg, rgba(122,162,255,.7), rgba(154,230,255,.2))}
.quality-card.measure::after{background:linear-gradient(90deg, rgba(154,230,255,.7), rgba(138,255,168,.2))}
.quality-num{width:36px;height:36px;border-radius:12px;display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);font-weight:900;font-size:.82rem}
.quality-title{margin:.6rem 0 0;font-size:.98rem;letter-spacing:-.01em}
.quality-desc{margin:.4rem 0 0;color:var(--muted);font-size:.88rem;line-height:1.45}
.quality-list{margin:.6rem 0 0;padding:0;list-style:none;display:grid;gap:.35rem;color:rgba(232,238,244,.55);font-size:.82rem}
.quality-list li{display:flex;gap:.45rem;align-items:flex-start}
.quality-list li::before{content:"‚óè";color:var(--accent2);font-size:.5rem;margin-top:.35rem}
.quality-card.craft .quality-list li::before{color:var(--good)}
.quality-card.trust .quality-list li::before{color:var(--accent)}
.quality-card.measure .quality-list li::before{color:var(--accent2)}
.footer{display:flex;justify-content:space-between;gap:1rem;padding:.7rem 1.1rem;background:rgba(8,12,18,.6);border-top:1px solid var(--line);font-size:.75rem;color:var(--muted)}
.footer .muted{color:rgba(232,238,244,.5)}

.faq{margin:1rem 18px 1.6rem;border-radius:16px;border:1px solid rgba(255,255,255,.12);background:rgba(8,12,18,.75);padding:1rem 1.1rem;box-shadow:0 18px 40px rgba(0,0,0,.35)}
.faq h3{margin:0 0 .6rem;font-size:.9rem;letter-spacing:.14em;text-transform:uppercase;color:var(--accent2)}
.faq-item{display:grid;gap:.35rem}
.faq-q{font-weight:800}
.faq-a{color:var(--muted);line-height:1.5;font-size:.9rem}

.knowledge{margin:0 18px 2rem;border-radius:16px;border:1px solid rgba(255,255,255,.12);background:rgba(8,12,18,.75);padding:1rem 1.1rem;box-shadow:0 18px 40px rgba(0,0,0,.35)}
.knowledge h3{margin:0 0 .7rem;font-size:.9rem;letter-spacing:.14em;text-transform:uppercase;color:var(--accent2)}
.knowledge-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:.9rem}
.knowledge-card{border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(12,16,24,.7);padding:.85rem .9rem;display:grid;gap:.45rem}
.knowledge-card h4{margin:0;font-size:.95rem;color:var(--text)}
.knowledge-card p{margin:0;color:var(--muted);font-size:.88rem;line-height:1.45}
.knowledge-card ul{margin:0;padding-left:1rem;color:rgba(232,238,244,.6);font-size:.84rem;display:grid;gap:.35rem}

@media (max-width: 860px){
  .quality-grid{grid-template-columns:1fr}
}

@media (max-width: 720px){
  .quality-drawer{left:12px;right:12px;bottom:88px;width:auto}
  .quality-drawer summary{flex-wrap:wrap;gap:.4rem}
  .quality-pill{order:2}
  .control-pad{right:12px;bottom:92px}
}

@media (hover: hover) and (pointer: fine){
  .control-pad{opacity:.2;transition:opacity 160ms ease}
  .control-pad:hover{opacity:1}
}
