<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Edwin Estro — Gaming AI Development</title>
        <meta
            name="description"
            content="Gaming AI Development workspace: a playable lab of game prototypes + AI agents + experiments (curated by Edwin Estro)."
        />
        <meta name="theme-color" content="#0a1020" />
        <meta property="og:title" content="Edwin Estro — Gaming AI Development" />
        <meta property="og:description" content="A playable workspace for game prototypes, agent experiments, and end-to-end ship-it engineering." />
        <meta property="og:type" content="website" />
        <link rel="preload" as="image" href="assets/img/edw.jpg" />
        <link rel="stylesheet" href="assets/css/home.css" />
        
            <!-- Microsoft Ads (Bing) UET: visit measurement (homepage only) -->
            <script>
                (function (w, d, t, r, u) {
                    var f, n, i;
                    w[u] = w[u] || [];
                    f = function () {
                        var o = { ti: '355052824', enableAutoSpaTracking: true };
                        o.q = w[u];
                        w[u] = new UET(o);
                        w[u].push('pageLoad');
                    };
                    n = d.createElement(t);
                    n.src = r;
                    n.async = 1;
                    n.onload = n.onreadystatechange = function () {
                        var s = this.readyState;
                        if (s && s !== 'loaded' && s !== 'complete') return;
                        f();
                        n.onload = n.onreadystatechange = null;
                    };
                    i = d.getElementsByTagName(t)[0];
                    i.parentNode.insertBefore(n, i);
                })(window, document, 'script', '//bat.bing.com/bat.js', 'uetq');
            </script>
            <script>
                // Consent Mode default: denied. We only grant if the user explicitly accepts.
                window.uetq = window.uetq || [];
                window.uetq.push('consent', 'default', { ad_storage: 'denied' });
            </script>
    </head>
    <body>
        <canvas id="immersion" aria-hidden="true"></canvas>

        <header class="nav" role="banner">
            <div class="nav-inner container">
                <div class="brand" aria-label="Site brand">
                    <img class="brand-mark" src="assets/img/edw.jpg" alt="Edwin Estro with a mustache" />
                    <div class="brand-text">
                        <div class="brand-title">Gaming AI Development</div>
                        <div class="brand-sub">Edwin Estro · games, agents, experiments</div>
                    </div>
                </div>

                <nav class="navlinks" aria-label="Primary">
                    <a href="#drops">Latest drops</a>
                    <a href="#explore">Explore</a>
                    <a href="#quality">Quality</a>
                    <a href="#support">Support</a>
                    <a class="btn primary" href="Projects/hubs/science-lab/index.html?mode=play&launch=featured&fs=1">Enter Science Lab</a>
                </nav>
            </div>
        </header>

        <main>
            <section class="hero">
                <div class="container hero-grid">
                    <div>
                        <div class="kicker">Playable portfolio · AI-friendly loops · measurable outcomes</div>
                        <h1 class="h1">
                            Build games.
                            <span class="grad">Wire agents.</span>
                            Ship experiments.
                        </h1>
                        <p class="lede">
                            This is my Gaming AI Development workspace: a modern lab where small games become testbeds for agents, telemetry,
                            and reliable engineering. Everything stays preserved, and the hub stays playable.
                        </p>

                        <div class="hero-actions">
                            <a class="btn primary" href="Projects/games/attract-ion/index.html">Play Attract‑ion</a>
                            <a class="btn" href="Projects/hubs/science-lab/index.html">Open Game Gallery</a>
                            <a class="btn" href="#drops">See the latest creation</a>
                            <a class="btn" href="Projects/docs/index.html">Docs / Resume</a>
                        </div>
                    </div>

                    <aside class="panel" aria-label="Profile">
                        <div class="profile">
                            <div class="profile-top">
                                <img class="avatar" src="assets/img/edw.jpg" alt="Edwin Estro with a mustache" />
                                <div>
                                    <div class="profile-name">Edwin Estro</div>
                                    <div class="profile-role">Gaming AI Development · Builder / Curator</div>
                                </div>
                            </div>
                            <div class="stats" aria-label="Quick stats">
                                <div class="stat"><div class="n" id="statGames">—</div><div class="l">Playable builds</div></div>
                                <div class="stat"><div class="n" id="statCounted">—</div><div class="l">Tracked games</div></div>
                                <div class="stat"><div class="n" id="statUpdated">—</div><div class="l">Last update</div></div>
                            </div>
                            <div>
                                <a class="btn primary" style="width: 100%" href="Projects/games/frost-signal/index.html">Play Frost Signal</a>
                            </div>
                            <div class="feature-shot-wrap" aria-label="Attract‑ion screenshot">
                                <div class="feature-shot-title">Attract‑ion (MVP)</div>
                                <img
                                    class="feature-shot"
                                    src="Projects/hubs/science-lab/assets/attract-ion-1600x900.png"
                                    alt="Attract‑ion screenshot showing the subatomic energy lab"
                                    loading="lazy"
                                    decoding="async"
                                />
                                <div class="feature-shot-caption">New MVP · subatomic formation</div>
                            </div>
                        </div>
                    </aside>
                </div>
            </section>

            <section id="drops" class="section" aria-label="Latest drops">
                <div class="container">
                    <h2 class="h2">Latest drops</h2>
                    <p class="sub">Auto-pulled from <span style="font-weight: 800">Projects/data/games.json</span> so the homepage stays current.</p>

                    <div class="grid" id="dropsGrid" aria-label="Latest game cards">
                        <!-- JS will render cards here. Kept empty to avoid stale content. -->
                    </div>
                </div>
            </section>

            <section id="explore" class="section" aria-label="Explore">
                <div class="container">
                    <h2 class="h2">Explore the lab</h2>
                    <p class="sub">Start with the hub, then jump into individual builds. Everything is designed to be quick-to-play and easy-to-measure.</p>

                    <div class="grid" aria-label="Primary links">
                        <a class="card big" href="Projects/hubs/science-lab/index.html">
                            <div class="card-title">Science Lab (Hub)</div>
                            <div class="card-desc">Single launchpad for every game in this repo, with progress tracking.</div>
                            <div class="badges">
                                <span class="badge blue">Hub</span>
                                <span class="badge">Progress</span>
                                <span class="badge">Preserved</span>
                            </div>
                            <div class="card-cta">Enter Lab →</div>
                        </a>

                        <a class="card tall" href="Projects/games/frost-signal/index.html">
                            <div class="card-title">Frost Signal</div>
                            <div class="card-desc">Arcade MVP. Clear win/lose loop and auto-reporting results.</div>
                            <div class="badges">
                                <span class="badge good">MVP</span>
                                <span class="badge">Arcade</span>
                            </div>
                            <div class="card-cta">Play →</div>
                        </a>

                        <a class="card" href="Projects/games/thermal-drift/index.html">
                            <div class="card-title">Thermal Drift</div>
                            <div class="card-desc">Action prototype. Survive, dodge enemies, iterate fast.</div>
                            <div class="badges">
                                <span class="badge">Action</span>
                                <span class="badge">Prototype</span>
                            </div>
                            <div class="card-cta">Play →</div>
                        </a>

                        <a class="card" href="legacy/stringball-endpoint/maze.html">
                            <div class="card-title">ScienceLab (Legacy 3D)</div>
                            <div class="card-desc">The original ScienceLab 3D lab experience (v4), preserved for continuity.</div>
                            <div class="badges">
                                <span class="badge">3D</span>
                                <span class="badge">Legacy</span>
                            </div>
                            <div class="card-cta">Open →</div>
                        </a>

                        <a class="card" href="Projects/docs/index.html">
                            <div class="card-title">Docs</div>
                            <div class="card-desc">Resume + certificates in a clean organized view.</div>
                            <div class="badges">
                                <span class="badge">Docs</span>
                            </div>
                            <div class="card-cta">Open →</div>
                        </a>

                        <a class="card" href="Projects/games/attract-ion/index.html">
                            <div class="card-title">Attract‑ion</div>
                            <div class="card-desc">Subatomic formation MVP: energy fluctuations, lepton orbitals, and hydrogen stabilization.</div>
                            <div class="badges">
                                <span class="badge good">MVP</span>
                                <span class="badge">Science</span>
                            </div>
                            <div class="card-cta">Play →</div>
                        </a>
                </div>
            </section>

            <section id="quality" class="section" aria-label="Quality">
                <div class="container">
                    <div class="quality-head">
                        <div>
                            <h2 class="h2">Quality layer model</h2>
                            <p class="sub">The goal is to make every build playable, readable, and resilient — even when it’s “just a prototype.”</p>
                        </div>
                        <div class="quality-pill">Playable · Readable · Resilient</div>
                    </div>
                    <div class="quality-grid" aria-label="Quality steps">
                        <article class="quality-card clarity">
                            <div class="quality-num">01</div>
                            <h3 class="quality-title">Clarity</h3>
                            <p class="quality-desc">Readable hierarchy, inclusive UX, and “you don’t need instructions” energy.</p>
                            <ul class="quality-list">
                                <li>Self-guided UI with obvious next actions</li>
                                <li>Accessible contrast and motion-safe patterns</li>
                                <li>Readable typography and feedback-first states</li>
                            </ul>
                        </article>
                        <article class="quality-card craft">
                            <div class="quality-num">02</div>
                            <h3 class="quality-title">Craft</h3>
                            <p class="quality-desc">Responsive layouts, performance, and a clean architecture that survives refactors.</p>
                            <ul class="quality-list">
                                <li>Plays cleanly on mobile → ultrawide</li>
                                <li>Lightweight assets and predictable frame time</li>
                                <li>Modular components with clear ownership</li>
                            </ul>
                        </article>
                        <article class="quality-card trust">
                            <div class="quality-num">03</div>
                            <h3 class="quality-title">Trust</h3>
                            <p class="quality-desc">Secure defaults, privacy awareness, and resilient engineering habits.</p>
                            <ul class="quality-list">
                                <li>Least-privilege inputs and safe defaults</li>
                                <li>Privacy-first data collection</li>
                                <li>Clear error handling and recovery paths</li>
                            </ul>
                        </article>
                        <article class="quality-card measure">
                            <div class="quality-num">04</div>
                            <h3 class="quality-title">Measurement</h3>
                            <p class="quality-desc">Clear events and outcomes so agents (and humans) can iterate with confidence.</p>
                            <ul class="quality-list">
                                <li>Human-auditable events and outcomes</li>
                                <li>Easy experiments with rollback paths</li>
                                <li>Iteration-ready metrics for every build</li>
                            </ul>
                        </article>
                    </div>
                </div>
            </section>

            <section id="support" class="section" aria-label="Support">
                <div class="container">
                    <h2 class="h2">Support</h2>
                    <p class="sub">If you’re feeling generous, consider supporting a cause that matters.</p>
                    <div class="grid" aria-label="Support links">
                        <a class="card big" href="https://support.savethechildren.org/site/Donation2?df_id=1620&mfc_pref=T&1620.donation=form1" target="_blank" rel="noreferrer">
                            <div class="card-title">Save the Children</div>
                            <div class="card-desc">Direct donation link (opens in a new tab).</div>
                            <div class="badges"><span class="badge blue">Charity</span></div>
                            <div class="card-cta">Donate →</div>
                        </a>
                    </div>
                </div>
            </section>

            <footer class="footer" aria-label="Footer">
                <div class="container">
                    <div style="display: flex; flex-wrap: wrap; gap: 0.9rem; align-items: center; justify-content: space-between;">
                        <div>© <span id="year"></span> Edwin Estro · Gaming AI Development</div>
                        <div>
                            <a href="Projects/hubs/science-lab/index.html">Science Lab</a>
                            <span style="opacity: 0.45"> · </span>
                            <a href="Projects/docs/index.html">Docs</a>
                        </div>
                    </div>
                </div>
            </footer>
        </main>

        <!-- Cookie / consent banner (homepage only) for Microsoft Ads UET -->
        <div class="consent-banner" id="consentBanner" role="dialog" aria-live="polite" aria-label="Cookie consent" hidden>
            <div class="consent-copy">
                <div class="consent-title">Privacy & measurement</div>
                <div class="consent-text">
                    We use Microsoft Ads (Bing) UET to measure visits and improve the site. You can accept or decline ad storage.
                </div>
            </div>
            <div class="consent-actions">
                <button class="btn" id="consentDecline" type="button">Decline</button>
                <button class="btn primary" id="consentAccept" type="button">Accept</button>
            </div>
        </div>
        <script>
            // Footer year
            document.getElementById('year').textContent = String(new Date().getFullYear());

            // Render latest drops from Projects/data/games.json
            const dropsGrid = document.getElementById('dropsGrid');
            const statGames = document.getElementById('statGames');
            const statCounted = document.getElementById('statCounted');
            const statUpdated = document.getElementById('statUpdated');

            const fmtDate = (iso) => {
                if (!iso) return '—';
                const d = new Date(iso);
                if (Number.isNaN(d.valueOf())) return '—';
                return d.toISOString().slice(0, 10);
            };

            // games.json hrefs are authored relative to the Science Lab hub; resolve them so they work from /index.html.
            const scienceLabBaseUrl = new URL('Projects/hubs/science-lab/index.html', window.location.href);
            const resolveHubHref = (href) => {
                try {
                    if (!href) return '#';
                    return new URL(href, scienceLabBaseUrl).toString();
                } catch {
                    return '#';
                }
            };

            const escapeHtml = (s) => String(s)
                .replaceAll('&', '&amp;')
                .replaceAll('<', '&lt;')
                .replaceAll('>', '&gt;')
                .replaceAll('"', '&quot;')
                .replaceAll("'", '&#39;');

            const cardHtml = (g, i) => {
                const title = escapeHtml(g.title ?? 'Untitled');
                const desc = escapeHtml(g.desc ?? '');
                const href = escapeHtml(resolveHubHref(g.href));
                const badges = Array.isArray(g.badges) ? g.badges : [];
                const updatedAt = fmtDate(g.updatedAt);

                const badgeEls = [
                    `<span class="badge blue">Updated ${updatedAt}</span>`,
                    ...(badges.slice(0, 3).map((b) => `<span class="badge">${escapeHtml(b)}</span>`)),
                ].join('');

                const size = i === 0 ? 'big' : '';
                return `
                    <a class="card ${size}" href="${href}" target="_blank" rel="noreferrer">
                        <div class="card-title">${title}</div>
                        <div class="card-desc">${desc}</div>
                        <div class="badges">${badgeEls}</div>
                        <div class="card-cta">Open →</div>
                    </a>
                `;
            };

            const renderDrops = async () => {
                try {
                    const res = await fetch('Projects/data/games.json', { cache: 'no-store' });
                    if (!res.ok) throw new Error(`HTTP ${res.status}`);
                    const data = await res.json();
                    const games = Array.isArray(data.games) ? data.games.slice() : [];

                    // Stats
                    const counted = games.filter((g) => g && g.counted);
                    statGames.textContent = String(games.length);
                    statCounted.textContent = String(counted.length);

                    const latestUpdated = games
                        .map((g) => g?.updatedAt)
                        .filter(Boolean)
                        .sort()
                        .slice(-1)[0];
                    statUpdated.textContent = fmtDate(latestUpdated);

                    // Latest drops (sorted desc)
                    games.sort((a, b) => new Date(b.updatedAt || 0) - new Date(a.updatedAt || 0));
                    const top = games.slice(0, 6);
                    dropsGrid.innerHTML = top.map(cardHtml).join('');

                    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches === false) {
                        enableTilt();
                    }
                } catch (err) {
                    dropsGrid.innerHTML = `
                        <a class="card big" href="Projects/hubs/science-lab/index.html">
                            <div class="card-title">Science Lab (Hub)</div>
                            <div class="card-desc">Couldn’t load Projects/data/games.json right now. Jump into the hub instead.</div>
                            <div class="badges"><span class="badge">Fallback</span></div>
                            <div class="card-cta">Enter Lab →</div>
                        </a>
                    `;
                    statGames.textContent = '—';
                    statCounted.textContent = '—';
                    statUpdated.textContent = '—';
                    console.warn('Failed to load games.json', err);
                }
            };

            renderDrops();

            // Subtle tilt on hover (desktop only)
            const enableTilt = () => {
                const cards = document.querySelectorAll('.card');
                cards.forEach((c) => {
                    if (c.dataset.tiltReady === '1') return;
                    c.dataset.tiltReady = '1';

                    let raf = null;
                    const onMove = (e) => {
                        const r = c.getBoundingClientRect();
                        const px = (e.clientX - r.left) / r.width;
                        const py = (e.clientY - r.top) / r.height;
                        const rx = (0.5 - py) * 6;
                        const ry = (px - 0.5) * 8;
                        if (raf) cancelAnimationFrame(raf);
                        raf = requestAnimationFrame(() => {
                            c.style.transform = `translateY(-2px) rotateX(${rx}deg) rotateY(${ry}deg)`;
                        });
                    };
                    const onLeave = () => {
                        if (raf) cancelAnimationFrame(raf);
                        c.style.transform = '';
                    };
                    c.addEventListener('pointermove', onMove);
                    c.addEventListener('pointerleave', onLeave);
                });
            };

            // Tilt for the static cards; dynamic cards get tilt after renderDrops().
            if (window.matchMedia('(prefers-reduced-motion: reduce)').matches === false) {
                enableTilt();
            }
        </script>

        <script>
            // Microsoft Ads (Bing) UET consent control
            (function () {
                const KEY = 'consent.uet.ad_storage';
                const banner = document.getElementById('consentBanner');
                if (!banner) return;

                const acceptBtn = document.getElementById('consentAccept');
                const declineBtn = document.getElementById('consentDecline');

                const applyConsent = (state) => {
                    window.uetq = window.uetq || [];
                    window.uetq.push('consent', 'update', { ad_storage: state });
                };

                const saved = localStorage.getItem(KEY);
                if (saved === 'granted' || saved === 'denied') {
                    applyConsent(saved);
                    return;
                }

                // No choice stored: show banner.
                banner.hidden = false;

                acceptBtn?.addEventListener('click', () => {
                    localStorage.setItem(KEY, 'granted');
                    applyConsent('granted');
                    banner.hidden = true;
                });

                declineBtn?.addEventListener('click', () => {
                    localStorage.setItem(KEY, 'denied');
                    applyConsent('denied');
                    banner.hidden = true;
                });
            })();
        </script>

        <script>
            // Immersion canvas: light letter-drift field.
            const canvas = document.getElementById('immersion');
            const ctx = canvas.getContext('2d');

            const center = { x: 0, y: 0 };
            const glyphs = 'GAME|AI|DEV|AGENT|LAB|SHIP|FROST|SIGNAL|氷霜|冷光';
            const particles = [];
            const maxParticles = 170;

            const resize = () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                center.x = canvas.width / 2;
                center.y = canvas.height / 2;
            };

            const spawn = () => {
                const edge = Math.floor(Math.random() * 4);
                let x = 0;
                let y = 0;
                if (edge === 0) {
                    x = -12;
                    y = Math.random() * canvas.height;
                } else if (edge === 1) {
                    x = canvas.width + 12;
                    y = Math.random() * canvas.height;
                } else if (edge === 2) {
                    x = Math.random() * canvas.width;
                    y = -12;
                } else {
                    x = Math.random() * canvas.width;
                    y = canvas.height + 12;
                }

                const dx = center.x - x;
                const dy = center.y - y;
                const dist = Math.max(1, Math.hypot(dx, dy));
                const speed = 0.55 + Math.random() * 0.95;

                particles.push({
                    x,
                    y,
                    vx: (dx / dist) * speed,
                    vy: (dy / dist) * speed,
                    ch: glyphs.charAt(Math.floor(Math.random() * glyphs.length)),
                    life: 0,
                    maxLife: 90 + Math.random() * 110,
                });
            };

            const drawVeil = () => {
                const g = ctx.createRadialGradient(center.x, center.y, 10, center.x, center.y, Math.max(canvas.width, canvas.height) * 0.85);
                g.addColorStop(0, 'rgba(154, 230, 255, 0.02)');
                g.addColorStop(0.55, 'rgba(122, 162, 255, 0.10)');
                g.addColorStop(1, 'rgba(7, 10, 16, 0.70)');
                ctx.fillStyle = g;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            };

            const tick = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                drawVeil();

                while (particles.length < maxParticles) spawn();

                ctx.font = '18px ui-sans-serif, system-ui, -apple-system, Segoe UI, Inter, Roboto, Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';

                for (let i = particles.length - 1; i >= 0; i--) {
                    const p = particles[i];
                    p.x += p.vx;
                    p.y += p.vy;
                    p.life++;

                    const fade = 1 - p.life / p.maxLife;
                    const alpha = Math.max(0, Math.min(1, fade));

                    ctx.fillStyle = `rgba(154, 230, 255, ${alpha * 0.65})`;
                    ctx.fillText(p.ch, p.x, p.y);

                    if (p.life >= p.maxLife || p.x < -60 || p.x > canvas.width + 60 || p.y < -60 || p.y > canvas.height + 60) {
                        particles.splice(i, 1);
                    }
                }

                requestAnimationFrame(tick);
            };

            window.addEventListener('resize', resize);
            resize();

            if (window.matchMedia('(prefers-reduced-motion: reduce)').matches === false) {
                tick();
            }
        </script>
    </body>
</html>