/* ===== Global Styles ===== */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
    overflow: auto; /* Allows scrolling */
    z-index: 1001; /* Ensures rocket is above the smoke */
}

/* ===== Banner ===== */
.banner {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background-color: #2196f3;
    color: white;
    padding: 10px 20px;
    display: flex;
    justify-content: center;
    gap: 20px;
    z-index: 1000;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.banner a {
    color: white;
    text-decoration: none;
    font-size: 16px;
    font-weight: bold;
    padding: 8px 16px;
    border-radius: 4px;
    transition: background-color 0.3s;
}
.banner a:hover {
    background-color: #1976d2;
}

/* ===== Layout Containers ===== */
.container {
    max-width: 900px; /* unified width for CV */
    margin: auto;
    padding: 20px;
    margin-top: 60px; /* prevent overlap with fixed banner */
    position: relative;
    z-index: 5000; /* Ensure the container (CV) is always above overlays and smoke */
    background: transparent !important;
    box-sizing: border-box;
}

/* ===== Profile Section ===== */
.profile {
    text-align: center;
    padding: 20px;
    margin-bottom: 30px;
}
.profile img {
    max-width: 150px;
    height: auto;
    border-radius: 50%;
    margin-bottom: 15px;
}

/* ===== CV Content ===== */
.cv-content {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 32px rgba(0,0,0,0.08);
    padding: 20px 30px; /* space inside the whole CV area */
    margin: 0 auto;
    box-sizing: border-box;
    position: relative;
    z-index: 2;
}
.cv-content .section {
    padding: 20px;      /* space inside each section */
    margin-bottom: 25px; /* space between sections */
    background-color: #fff;
    border-radius: 6px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
}
.section h2 {
    color: #333;
    margin-top: 0;
}
ul {
    padding-left: 20px;
}

/* ===== Game Section ===== */
.game-section {
    background: #f8fafc;
    border-radius: 16px;
    box-shadow: 0 4px 32px rgba(0,0,0,0.04);
    margin: 40px auto 0 auto;
    padding: 32px 24px;
    max-width: 600px;
    min-height: 220px;
    position: relative;
    z-index: 2;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
}
#game-container {
  position: relative;
  overflow: hidden; /* clip board-level glow */
  border-radius: 12px;
  display: grid;
  grid-template-columns: repeat(var(--cols, 3), var(--tile-size, 80px));
  grid-gap: var(--grid-gap, 8px);
  margin: 20px auto;
  justify-content: center;
  z-index: 0; /* board-level background */
  --board-padding: 12px;
  padding: var(--board-padding);
}

/* board-level neon â€” use pseudo element inside container so it's clipped by overflow */
#game-container.board-neon::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background: radial-gradient(circle at 50% 40%, var(--neon-inner, rgba(30,136,229,0.35)) 0%, transparent 35%), radial-gradient(circle at 50% 60%, var(--neon-outer, rgba(30,136,229,0.85)) 0%, transparent 60%);
  filter: blur(22px);
  opacity: 0.95;
  transition: opacity 120ms linear, transform 120ms linear;
}

/* Colores por defecto para las 9 tiles (kept for color mapping by index classes) */
.tile-0 { background: red; }
.tile-1 { background: blue; }
.tile-2 { background: green; }
.tile-3 { background: yellow; }
.tile-4 { background: orange; }
.tile-5 { background: purple; }
.tile-6 { background: cyan; }
.tile-7 { background: pink; }
.tile-8 { background: lime; }

.tile {
    width: var(--tile-size, 80px);
    height: var(--tile-size, 80px);
    border-radius: 8px;
    cursor: pointer;
    transition: opacity 0.28s, background-color 0.18s, transform 0.15s, box-shadow 0.25s;
    position: relative; /* for reflection pseudo-element */
    overflow: hidden;
}

/* reflection / shine overlay added when tile has .reflect */
.tile.reflect::after {
  content: '';
  position: absolute;
  left: -40%;
  top: -120%;
  width: 160%;
  height: 140%;
  background: linear-gradient(120deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.12) 45%, rgba(255,255,255,0.45) 52%, rgba(255,255,255,0.12) 60%, rgba(255,255,255,0.0) 100%);
  transform: rotate(-18deg) translateY(0);
  opacity: 0;
  transition: transform 420ms cubic-bezier(.2,.9,.2,1), opacity 280ms ease;
  pointer-events: none;
  mix-blend-mode: screen;
}
.tile.reflect.animate-shine::after {
  transform: rotate(-18deg) translateY(40%);
  opacity: 1;
}

.tile.active {
    opacity: 0.7;
}
.tile.difficulty1 {
    background-color: #2e7d32; /* neutral default for difficulty 1 */
}
.tile.difficulty1.active {
    background-color: #66bb6a !important;
    opacity: 1 !important;
}

/* Start tile styling for Difficulty 2 Game */
.start-tile {
    background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%) !important;
    color: white !important;
    font-weight: bold !important;
    font-size: 16px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    box-shadow: 0 4px 12px rgba(25, 118, 210, 0.3) !important;
    border: 2px solid rgba(255, 255, 255, 0.2) !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
    transition: all 0.3s ease !important;
}

.start-tile:hover {
    background: linear-gradient(135deg, #1565c0 0%, #0d47a1 100%) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(25, 118, 210, 0.4) !important;
}

.start-tile:active {
    transform: translateY(0) !important;
    box-shadow: 0 2px 8px rgba(25, 118, 210, 0.3) !important;
}

#led {
    width: 264px; /* 3 tiles (80px each) + 2 gaps (8px each) */
    height: 44px;
    margin: 10px auto;
    background-color: #1976d2; /* brighter default so it's visible */
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 18px;
    cursor: pointer;
    transition: background-color 0.3s, box-shadow 0.3s, transform 0.12s;
    box-shadow: 0 6px 18px rgba(25,118,210,0.18);
}
#led.led-active {
    box-shadow: 0 0 40px 8px rgba(25,118,210,0.25), 0 10px 30px rgba(16,87,166,0.18);
    transform: scale(1.02);
}

/* glow around the board when difficulty 2 shows sequence */
#game-container.board-glow {
    box-shadow: 0 0 80px rgba(25,118,210,0.12) inset, 0 8px 40px rgba(25,118,210,0.06);
    border-radius: 12px;
    padding: 12px;
}

/* pulsing LED before game starts to indicate it's clickable */
#led.pulse {
    animation: ledPulse 1.6s ease-in-out infinite;
}
@keyframes ledPulse {
    0% { box-shadow: 0 6px 18px rgba(25,118,210,0.18); transform: translateY(0); }
    50% { box-shadow: 0 0 40px 8px rgba(25,118,210,0.18); transform: translateY(-3px); }
    100% { box-shadow: 0 6px 18px rgba(25,118,210,0.18); transform: translateY(0); }
}

#game-message {
    font-size: 18px;
    margin-bottom: 15px;
    color: #333;
}
#difficulty-selector {
    margin-bottom: 10px;
}
#difficulty-selector select {
    padding: 8px;
    font-size: 16px;
    border-radius: 4px;
    background-color: #2196f3;
    color: white;
    border: none;
    cursor: pointer;
}
#difficulty-selector select:hover {
    background-color: #1976d2;
}

/* ===== Reset Button ===== */
#game-reset {
  padding: 8px 14px;
  border-radius: 6px;
  border: none;
  background: #ef4444;
  color: #fff;
  cursor: pointer;
  font-weight: 600;
  box-shadow: 0 6px 18px rgba(239,68,68,0.12);
  transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease;
}
#game-reset:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(239,68,68,0.16); }

/* ===== Neon Board & Tile Styles used by JS helpers ===== */
#game-container.board-neon {
  --neon-outer: rgba(30,136,229,0.85);
  --neon-inner: rgba(30,136,229,0.35);
  box-shadow: 0 0 120px var(--neon-outer), inset 0 -20px 60px var(--neon-inner);
  padding: 12px;
  border-radius: 12px;
}
/* stronger flashing effect for quick playback */
#game-container.board-flash {
  animation: boardFlash 220ms ease-in-out 1;
}
@keyframes boardFlash { from { transform: scale(1); } 50% { transform: scale(1.008); } to { transform: scale(1); } }

/* Active strong tile (used in Simon mode) */
.tile.active-strong {
  position: relative;
  overflow: hidden; /* clip its own glow */
  transform: translateY(-4px) scale(1.03);
  opacity: 1 !important;
}
.tile.active-strong::before {
  content: '';
  position: absolute;
  left: -12px;
  top: -12px;
  right: -12px;
  bottom: -12px;
  border-radius: inherit;
  pointer-events: none;
  z-index: 1; /* behind tile content */
  background: radial-gradient(circle at 50% 30%, rgba(255,255,255,0.85) 0%, rgba(255,255,255,0.35) 6%, var(--tile-neon, rgba(99,102,241,0.85)) 18%, transparent 45%), radial-gradient(circle at 70% 70%, rgba(255,255,255,0.06) 0%, transparent 35%);
  filter: blur(14px);
  opacity: 0.98;
}

/* Dimmed by default for Simon mode - explicit backup to JS inline opacity */
.tile.simon-dim {
  opacity: 0.10;
  filter: none;
}

/* cursor ship sizing backup */
.spx-ship { width: 140px; height: 40px; }
.spx-ship svg { width: 100%; height: 100%; }

/* ===== Bottom Space ===== */
.bottom-space {
    height: 400px; /* reduced from 1200px */
    position: relative;
    width: 100%;
    background: transparent;
    z-index: 1;
}
#spacex-landing {
    position: absolute;
    left: 50%;
    bottom: 0;
    transform: translateX(-50%);
    width: 220px;
    height: 100%;
    pointer-events: none;
    z-index: 10;
}

/* ===== Cursor & Trail Effects ===== */
.trail {
    position: fixed;
    width: 20px;
    height: 20px;
    background: radial-gradient(circle, rgba(128, 128, 128, 0.6) 30%, rgba(128, 128, 128, 0) 80%);
    border-radius: 50%;
    opacity: 1;
    transition: opacity 5s ease-out;
    z-index: -1; /* Ensures rocket is above the smoke */
}
.cursor {
    position: fixed;
    font-size: 26px;
    width: 60px;
    height: 140px;
    pointer-events: none;
    z-index: 1000; /* Ensures rocket is above the smoke */
}

/* ===== Leaderboard modal styles ===== */
.leaderboard-modal {
  position: fixed;
  left: 0; right: 0; top: 0; bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(12,12,16,0.45);
  z-index: 9999; /* ensure above CV */
}
.leaderboard-modal.hidden { display: none; }
.leaderboard-inner {
  width: 360px;
  max-width: 92%;
  background: linear-gradient(180deg, #fff, #f6f8fa);
  padding: 14px;
  border-radius: 12px;
  box-shadow: 0 18px 50px rgba(0,0,0,0.28);
  border: 1px solid rgba(0,0,0,0.06);
}

/* small list tweaks */
#leader-list li { margin: 6px 0; font-size: 13px; color: #222; }

/* make modal buttons look like existing style */
#leader-save, #leader-skip, #leader-clear, #leader-close { padding:6px 10px; border-radius:6px; border:1px solid #ccc; background:#fff; cursor:pointer; }
#leader-save { background:#1e88e5; color:#fff; border-color:#1177cc; }
#leader-clear { background:#fff1f1; color:#a33; border-color:#e0b0b0; }

/* ensure modal is above the ship/cursor visuals */
.ship-cursor, .cursor-canvas { z-index: 9998 !important; }

/* ===== Clinical / Alzheimers button and link styles ===== */
.alz-section { border-radius:10px; padding:10px; background: linear-gradient(180deg,#fbfdff,#f5fbff); border:1px solid rgba(34,68,120,0.06); }
.alz-link { background: #0066cc; color: #fff; padding:8px 12px; text-decoration:none; border-radius:8px; border: 1px solid rgba(0,60,130,0.12); }
.alz-link:hover { background:#005bb5 }
.alz-ghost { background:transparent; border:1px dashed rgba(0,100,120,0.12); padding:8px 10px; border-radius:8px; }

/* high hygiene theme */
.alz-section { box-shadow: 0 6px 24px rgba(10,40,80,0.06); }

/* ===== Clinical modal styles ===== */
.clinical-modal {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(10,18,30,0.45);
  z-index: 10010;
}
.clinical-modal.hidden { display: none; }
.clinical-inner {
  width: 680px;
  max-width: 96%;
  background: linear-gradient(180deg,#fff,#f8fbff);
  border-radius: 12px;
  padding: 16px;
  border: 1px solid rgba(0,40,100,0.06);
  box-shadow: 0 18px 60px rgba(10,30,80,0.18);
}
.clinical-board { display:grid; gap:8px; margin-top:10px; }
.clinical-tile { background:#eee; border-radius:8px; min-height:48px; min-width:48px; cursor:pointer; }
.clinical-lit { background:#ffd54f !important; }

/* ===== Responsive Adjustments ===== */
@media (max-width: 600px) {
    .cv-content {
        padding: 15px;
    }
    .cv-content .section {
        padding: 15px;
    }
    .container {
        padding: 15px;
    }
    #game-container, #led {
        margin-left: auto;
        margin-right: auto;
    }
    .banner {
        flex-direction: column;
        align-items: center;
        gap: 10px;
    }
}

/* Fix highlight animation for difficulty 1 using CSS classes */
.tile.highlight-anim {
  animation: highlightPop 420ms cubic-bezier(.2,.9,.2,1);
}
@keyframes highlightPop {
  0% { transform: scale(1); box-shadow: 0 4px 12px rgba(46,125,50,0.12); background-color: #2e7d32; }
  40% { transform: scale(1.06); box-shadow: 0 8px 20px rgba(46,125,50,0.32); background-color: #66bb6a; }
  100% { transform: scale(1); box-shadow: none; background-color: #2e7d32; }
}

/* ensure .tile.active doesn't conflict with difficulty 1 default */
.tile.active.highlight-anim { opacity: 1; }
